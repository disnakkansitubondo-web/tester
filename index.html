<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>APLIKASI BARJAS - SISTEM BANTUAN</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/css/bootstrap-datepicker.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.28/jspdf.plugin.autotable.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
    <style>
        :root {
            --primary-color: #0d47a1;
            --secondary-color: #00695c;
            --accent-color: #ff8f00;
            --light-blue: #e3f2fd;
            --dark-blue: #082e5c;
            --gradient-primary: linear-gradient(135deg, var(--primary-color), var(--dark-blue));
            --gradient-secondary: linear-gradient(135deg, var(--secondary-color), #004d40);
            --gradient-accent: linear-gradient(135deg, var(--accent-color), #e65100);
            --shadow-sm: 0 2px 8px rgba(0,0,0,0.08);
            --shadow-md: 0 4px 16px rgba(0,0,0,0.12);
            --shadow-lg: 0 8px 28px rgba(0,0,0,0.15);
            --login-gradient: linear-gradient(135deg, #0d47a1, #00695c, #ff8f00);
        }
        
        body {
            background: linear-gradient(135deg, #f5f9ff 0%, #e8f5e9 100%);
            font-family: 'Poppins', 'Segoe UI', sans-serif;
            min-height: 100vh;
            padding: 10px 0;
            overflow-x: hidden;
        }
        
        .app-container {
            max-width: 1600px;
            margin: 0 auto;
            background: white;
            box-shadow: var(--shadow-lg);
            border-radius: 12px;
            overflow: hidden;
            position: relative;
            z-index: 10;
        }
        
        .app-header {
            background: var(--gradient-primary);
            color: white;
            padding: 20px 15px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }
        
        .app-header::before {
            content: "";
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.15) 0%, transparent 70%);
            pointer-events: none;
        }
        
        .app-logo {
            font-size: 2.5rem;
            margin-bottom: 10px;
            position: relative;
            z-index: 1;
        }
        
        .app-title {
            font-size: 1.8rem;
            font-weight: 800;
            margin: 0;
            position: relative;
            z-index: 1;
            text-shadow: 1px 1px 4px rgba(0,0,0,0.3);
        }
        
        .app-subtitle {
            font-size: 1rem;
            opacity: 0.95;
            position: relative;
            z-index: 1;
            font-weight: 300;
            letter-spacing: 0.5px;
            margin-bottom: 5px;
        }
        
        .nav-pills .nav-link {
            border-radius: 8px;
            margin-bottom: 8px;
            padding: 12px 15px;
            font-weight: 500;
            color: #444;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            font-size: 0.9rem;
        }
        
        .nav-pills .nav-link:hover {
            background-color: #f0f7ff;
            transform: translateX(3px);
        }
        
        .nav-pills .nav-link.active {
            background: var(--gradient-primary);
            font-weight: 600;
            box-shadow: var(--shadow-md);
            transform: translateX(3px);
            color: white;
        }
        
        .section-title {
            border-left: 4px solid var(--primary-color);
            padding-left: 12px;
            margin: 20px 0;
            font-weight: 700;
            color: var(--dark-blue);
            font-size: 1.4rem;
            position: relative;
        }
        
        .section-title::after {
            content: "";
            position: absolute;
            bottom: -5px;
            left: 12px;
            width: 40px;
            height: 2px;
            background: var(--gradient-primary);
            border-radius: 2px;
        }
        
        .btn-primary {
            background: var(--gradient-primary);
            border: none;
            padding: 10px 20px;
            font-weight: 600;
            box-shadow: var(--shadow-md);
            border-radius: 8px;
            transition: all 0.3s;
            font-size: 0.9rem;
        }
        
        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-lg);
        }
        
        .btn-success {
            background: var(--gradient-secondary);
            border: none;
            padding: 10px 20px;
            font-weight: 600;
            box-shadow: var(--shadow-md);
            border-radius: 8px;
            transition: all 0.3s;
            font-size: 0.9rem;
        }
        
        .btn-success:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-lg);
        }
        
        .btn-warning {
            background: var(--gradient-accent);
            border: none;
            padding: 10px 20px;
            font-weight: 600;
            box-shadow: var(--shadow-md);
            border-radius: 8px;
            transition: all 0.3s;
            font-size: 0.9rem;
        }
        
        .btn-warning:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-lg);
        }
        
        .form-label {
            font-weight: 600;
            color: #444;
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            font-size: 0.9rem;
        }
        
        .form-label i {
            margin-right: 6px;
            color: var(--primary-color);
        }
        
        .form-control, .form-select {
            border-radius: 8px;
            padding: 12px 15px;
            border: 1px solid #ddd;
            transition: all 0.3s;
            box-shadow: var(--shadow-sm);
            font-size: 0.9rem;
        }
        
        .form-control:focus, .form-select:focus {
            border-color: var(--primary-color);
            box-shadow: 0 0 0 3px rgba(13, 71, 161, 0.2);
            transform: translateY(-2px);
        }
        
        .copyright {
            text-align: center;
            padding: 20px;
            background-color: var(--light-blue);
            color: var(--dark-blue);
            font-size: 0.9rem;
            font-weight: 500;
        }
        
        .data-table {
            font-size: 0.85rem;
            border-collapse: separate;
            border-spacing: 0;
            box-shadow: var(--shadow-sm);
            border-radius: 8px;
            overflow: hidden;
        }
        
        .data-table th {
            background: var(--gradient-primary);
            color: white;
            font-weight: 600;
            padding: 12px 10px;
            text-align: center;
            position: relative;
            font-size: 0.85rem;
        }
        
        .data-table th::after {
            content: "";
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 1px;
            background: rgba(255,255,255,0.3);
        }
        
        .data-table td {
            padding: 10px 8px;
            vertical-align: middle;
            border-bottom: 1px solid #eee;
            font-size: 0.85rem;
        }
        
        .data-table tr:nth-child(even) {
            background-color: #f9fbff;
        }
        
        .data-table tr:hover {
            background-color: #edf5ff;
        }
        
        .feature-icon {
            font-size: 1.1rem;
            margin-right: 8px;
            width: 24px;
            text-align: center;
        }
        
        .card {
            border-radius: 10px;
            border: none;
            box-shadow: var(--shadow-md);
            transition: all 0.3s ease;
            overflow: hidden;
            margin-bottom: 15px;
        }
        
        .card:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-lg);
        }
        
        .card-header {
            border-radius: 10px 10px 0 0 !important;
            font-weight: 600;
            padding: 15px 20px;
            background: var(--gradient-primary);
            color: white;
            font-size: 0.95rem;
        }
        
        .stats-box {
            text-align: center;
            padding: 20px 15px;
            border-radius: 10px;
            background: white;
            box-shadow: var(--shadow-md);
            transition: all 0.3s;
            position: relative;
            overflow: hidden;
            margin-bottom: 15px;
        }
        
        .stats-box::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 4px;
            background: var(--gradient-primary);
            border-radius: 2px;
        }
        
        .stats-box:hover {
            transform: translateY(-3px);
            box-shadow: var(--shadow-lg);
        }
        
        .stats-number {
            font-size: 1.8rem;
            font-weight: 800;
            color: var(--primary-color);
            margin: 10px 0;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.1);
        }
        
        .stats-label {
            font-size: 0.9rem;
            color: #666;
            font-weight: 500;
        }
        
        .notification-toast {
            position: fixed;
            bottom: 20px;
            right: 20px;
            z-index: 1050;
            min-width: 280px;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: var(--shadow-lg);
            max-width: calc(100vw - 40px);
        }
        
        .input-error {
            border-color: #dc3545;
            box-shadow: 0 0 0 3px rgba(220, 53, 69, 0.2);
        }
        
        .error-message {
            color: #dc3545;
            font-size: 0.8rem;
            margin-top: 5px;
            display: none;
            font-weight: 500;
        }
        
        .watermark {
            position: absolute;
            bottom: 10px;
            right: 15px;
            opacity: 0.8;
            font-size: 0.8rem;
            color: white;
            font-weight: 300;
        }
        
        .control-panel {
            background: #f8f9fa;
            border-radius: 8px;
            padding: 15px;
            margin-top: 15px;
            box-shadow: var(--shadow-sm);
        }
        
        .control-title {
            font-size: 1rem;
            color: var(--primary-color);
            font-weight: 600;
            margin-bottom: 15px;
            padding-bottom: 8px;
            border-bottom: 1px solid var(--light-blue);
        }
        
        .floating-action-btn {
            position: fixed;
            bottom: 20px;
            right: 20px;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: var(--gradient-primary);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: var(--shadow-lg);
            z-index: 1000;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .floating-action-btn:hover {
            transform: scale(1.1) rotate(90deg);
        }
        
        .filter-section {
            background: white;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 20px;
            box-shadow: var(--shadow-sm);
        }
        
        .badge-custom {
            background: var(--gradient-primary);
            color: white;
            padding: 6px 12px;
            border-radius: 16px;
            font-weight: 600;
            font-size: 0.8rem;
        }
        
        .mobile-menu-btn {
            display: none;
            position: fixed;
            top: 15px;
            left: 15px;
            z-index: 1050;
            background: var(--gradient-primary);
            color: white;
            border: none;
            border-radius: 50%;
            width: 45px;
            height: 45px;
            box-shadow: var(--shadow-lg);
        }
        
        .sidebar-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            z-index: 1040;
        }
        
        /* Animations */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .animate-fadeIn {
            animation: fadeIn 0.5s ease forwards;
        }
        
        /* Custom scrollbar */
        ::-webkit-scrollbar {
            width: 6px;
        }
        
        ::-webkit-scrollbar-track {
            background: #f1f1f1;
            border-radius: 8px;
        }
        
        ::-webkit-scrollbar-thumb {
            background: var(--primary-color);
            border-radius: 8px;
        }
        
        ::-webkit-scrollbar-thumb:hover {
            background: var(--dark-blue);
        }
        
        /* Responsive styles */
        @media (max-width: 991.98px) {
            .col-md-3.col-lg-2 {
                position: fixed;
                left: -300px;
                top: 0;
                bottom: 0;
                z-index: 1050;
                width: 280px;
                transition: left 0.3s ease;
                overflow-y: auto;
                padding-top: 60px;
            }
            
            .col-md-3.col-lg-2.mobile-show {
                left: 0;
            }
            
            .col-md-9.col-lg-10 {
                width: 100%;
                flex: 0 0 100%;
                max-width: 100%;
            }
            
            .mobile-menu-btn {
                display: flex;
                align-items: center;
                justify-content: center;
            }
            
            .sidebar-overlay.mobile-show {
                display: block;
            }
        }
        
        /* Print Styles - IMPROVED FOR LANDSCAPE */
        @media print {
            @page {
                size: landscape;
                margin: 0.5cm;
            }
            
            body * {
                visibility: hidden;
            }
            
            .app-container, .app-container * {
                visibility: visible;
            }
            
            .app-container {
                position: absolute;
                left: 0;
                top: 0;
                width: 100%;
                box-shadow: none;
            }
            
            .nav-pills, .mobile-menu-btn, .sidebar-overlay, .floating-action-btn,
            .btn-group, .filter-section, .toast {
                display: none !important;
            }
            
            .col-md-3.col-lg-2.p-4.bg-light {
                display: none !important;
            }
            
            .col-md-9.col-lg-10.p-5 {
                width: 100%;
                flex: 0 0 100%;
                max-width: 100%;
                padding: 0 !important;
            }
            
            .copyright {
                display: none;
            }
            
            .data-table {
                font-size: 10px;
                width: 100% !important;
            }
            
            .data-table th, .data-table td {
                padding: 4px 2px;
            }
            
            /* Sembunyikan kolom aksi dan link Google Drive saat mencetak */
            .data-table th:last-child,
            .data-table td:last-child {
                display: none !important;
            }
            
            /* Judul untuk laporan cetak */
            .print-header {
                display: block !important;
                text-align: center;
                margin-bottom: 15px;
            }
            
            .print-title {
                font-size: 18px;
                font-weight: bold;
                margin-bottom: 5px;
            }
            
            .print-subtitle {
                font-size: 14px;
                margin-bottom: 10px;
            }
            
            .print-date {
                font-size: 12px;
                text-align: right;
                margin-bottom: 10px;
            }
        }

        /* WhatsApp link style */
        .whatsapp-link {
            color: #25D366;
            text-decoration: none;
        }
        
        .whatsapp-link:hover {
            text-decoration: underline;
        }
        
        /* View Link Button */
        .btn-view {
            background: linear-gradient(135deg, #17a2b8, #138496);
            color: white;
            border: none;
            padding: 5px 10px;
            border-radius: 4px;
            font-size: 0.8rem;
        }
        
        .btn-view:hover {
            background: linear-gradient(135deg, #138496, #117a8b);
            color: white;
        }
        
        /* Undo Button */
        .btn-undo {
            background: linear-gradient(135deg, #6c757d, #5a6268);
            color: white;
            border: none;
        }
        
        .btn-undo:hover {
            background: linear-gradient(135deg, #5a6268, #4e555b);
            color: white;
        }
        
        /* WhatsApp number link in table */
        .whatsapp-number {
            color: #25D366;
            cursor: pointer;
            text-decoration: underline;
        }
        
        /* Welcome Modal Styles */
        .welcome-modal .modal-content {
            border-radius: 15px;
            overflow: hidden;
            border: none;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }
        
        .welcome-header {
            background: var(--gradient-primary);
            color: white;
            text-align: center;
            padding: 25px;
        }
        
        .welcome-icon {
            font-size: 3rem;
            margin-bottom: 15px;
        }
        
        .welcome-body {
            padding: 25px;
            text-align: center;
        }
        
        .welcome-footer {
            background: #f8f9fa;
            padding: 15px;
            text-align: center;
            border-top: 1px solid #eee;
        }
        
        .countdown-timer {
            font-size: 0.9rem;
            color: #6c757d;
            margin-top: 10px;
        }
        
        /* Button untuk cetak per data */
        .btn-print-individual {
            background: linear-gradient(135deg, #6f42c1, #5a2d95);
            color: white;
            border: none;
            padding: 5px 10px;
            border-radius: 4px;
            font-size: 0.8rem;
        }
        
        .btn-print-individual:hover {
            background: linear-gradient(135deg, #5a2d95, #4a2479);
            color: white;
        }
        
        /* Developer Info Styles */
        .developer-info {
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            border-radius: 10px;
            padding: 20px;
            margin-top: 20px;
            box-shadow: var(--shadow-sm);
        }
        
        .developer-logo {
            max-width: 120px;
            margin-bottom: 15px;
            border-radius: 8px;
        }
        
        .developer-contact a {
            color: var(--primary-color);
            text-decoration: none;
            transition: all 0.3s;
        }
        
        .developer-contact a:hover {
            color: var(--dark-blue);
            text-decoration: underline;
        }
        
        /* Welcome Splash Screen */
        .welcome-splash {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: var(--gradient-primary);
            color: white;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 9999;
            transition: opacity 0.5s ease;
        }
        
        .welcome-splash-content {
            text-align: center;
            max-width: 600px;
            padding: 30px;
        }
        
        .welcome-splash-logo {
            font-size: 4rem;
            margin-bottom: 20px;
        }
        
        .welcome-splash-title {
            font-size: 2.2rem;
            font-weight: 800;
            margin-bottom: 15px;
        }
        
        .welcome-splash-message {
            font-size: 1.1rem;
            line-height: 1.6;
            margin-bottom: 25px;
        }
        
        .welcome-splash-countdown {
            font-size: 1rem;
            margin-top: 20px;
        }
        
        .welcome-splash-close {
            position: absolute;
            top: 20px;
            right: 20px;
            background: rgba(255,255,255,0.2);
            border: none;
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .welcome-splash-close:hover {
            background: rgba(255,255,255,0.3);
            transform: rotate(90deg);
        }
        
        /* Loading spinner */
        .spinner-border-sm {
            width: 1rem;
            height: 1rem;
        }

        /* Login Modal Styles */
        .login-modal .modal-content {
            border-radius: 15px;
            overflow: hidden;
            border: none;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        }

        .login-header {
            background: var(--login-gradient);
            color: white;
            text-align: center;
            padding: 25px 20px;
            position: relative;
        }

        .login-icon {
            font-size: 3rem;
            margin-bottom: 15px;
            color: white;
        }

        .login-title {
            font-size: 1.8rem;
            font-weight: 700;
            margin: 0;
        }

        .login-subtitle {
            font-size: 1rem;
            opacity: 0.9;
            margin: 5px 0 0;
        }

        .login-body {
            padding: 25px;
            position: relative;
            z-index: 1;
        }

        .login-form-group {
            margin-bottom: 20px;
        }

        .login-form-label {
            font-weight: 600;
            color: var(--dark-blue);
            margin-bottom: 8px;
            display: flex;
            align-items: center;
        }

        .login-form-label i {
            margin-right: 10px;
            color: var(--dark-blue);
        }

        .login-form-control {
            border-radius: 8px;
            padding: 12px 15px;
            border: 2px solid #ddd;
            transition: all 0.3s;
        }

        .login-form-control:focus {
            border-color: var(--dark-blue);
            box-shadow: 0 0 0 3px rgba(13, 71, 161, 0.2);
        }

        .login-input-group-text {
            background: var(--light-blue);
            border: 2px solid #ddd;
            border-left: none;
        }

        .btn-login {
            background: var(--gradient-secondary);
            color: white;
            border: none;
            padding: 12px;
            font-weight: 600;
            border-radius: 8px;
            width: 100%;
            transition: all 0.3s;
            margin-top: 10px;
        }

        .btn-login:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 105, 92, 0.4);
        }

        .btn-login:disabled {
            background: #ccc;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        .login-security-notice {
            text-align: center;
            margin-top: 20px;
            font-size: 0.85rem;
            color: #666;
        }

        .login-attempts-count {
            text-align: center;
            font-size: 0.9rem;
            color: #ff8f00;
            font-weight: 500;
            margin-top: 5px;
        }

        .login-blocked-message {
            text-align: center;
            background: rgba(220, 53, 69, 0.1);
            border-radius: 8px;
            padding: 15px;
            margin-top: 20px;
            color: #dc3545;
            font-weight: 500;
        }

        .login-countdown {
            font-size: 1.2rem;
            font-weight: 700;
            color: var(--dark-blue);
        }

        .login-developer-info {
            background: var(--light-blue);
            border-radius: 10px;
            padding: 20px;
            margin-top: 25px;
            text-align: center;
        }

        .login-developer-logo {
            max-width: 180px;
            margin-bottom: 15px;
            border-radius: 8px;
        }

        .login-developer-contact a {
            color: var(--dark-blue);
            text-decoration: none;
            transition: all 0.3s;
            display: inline-block;
            margin: 5px 0;
        }

        .login-developer-contact a:hover {
            color: var(--primary-color);
            text-decoration: underline;
            transform: translateY(-2px);
        }

        .login-copyright {
            text-align: center;
            margin-top: 20px;
            color: #666;
            font-size: 0.9rem;
            opacity: 0.9;
        }

        /* Animations */
        @keyframes login-shake {
            0%, 100% { transform: translateX(0); }
            10%, 30%, 50%, 70%, 90% { transform: translateX(-10px); }
            20%, 40%, 60%, 80% { transform: translateX(10px); }
        }

        .login-shake {
            animation: login-shake 0.6s cubic-bezier(.36,.07,.19,.97) both;
        }

        /* Login particle background */
        #login-particles {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 1040; /* Higher than modal backdrop */
            display: none;
        }

        /* Link Google Drive dalam tabel */
        .drive-link {
            color: #0d47a1;
            text-decoration: none;
            cursor: pointer;
        }

        .drive-link:hover {
            text-decoration: underline;
        }

        /* Modal untuk menambah link */
        .link-modal .modal-dialog {
            max-width: 600px;
        }
        
        /* App content when not authenticated */
        .app-content-unauthenticated {
            display: none;
        }
    </style>
</head>
<body>
    <!-- Login Modal -->
    <div class="modal fade login-modal" id="loginModal" tabindex="-1" aria-hidden="true" data-bs-backdrop="static" data-bs-keyboard="false">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="login-header">
                    <div class="login-icon">
                        <i class="fas fa-lock"></i>
                    </div>
                    <h2 class="login-title">AUTHENTICATION REQUIRED</h2>
                    <p class="login-subtitle">Masukkan Kode Keamanan untuk Mengakses Aplikasi</p>
                </div>
                <div class="login-body">
                    <form id="loginForm">
                        <div class="mb-3 login-form-group">
                            <label class="form-label login-form-label">
                                <i class="fas fa-key"></i> Kode Keamanan
                            </label>
                            <div class="input-group">
                                <input type="password" class="form-control login-form-control" id="securityCode" placeholder="Masukkan kode akses aplikasi">
                                <button class="btn btn-outline-secondary toggle-password" type="button">
                                    <i class="fas fa-eye"></i>
                                </button>
                            </div>
                            <div class="form-text text-danger login-attempts-count" id="attemptsCount"></div>
                        </div>
                        <button type="submit" class="btn btn-login" id="loginButton">
                            <span class="login-button-text">Masuk ke Aplikasi</span>
                            <span class="spinner-border spinner-border-sm d-none" id="loginSpinner"></span>
                        </button>
                    </form>
                    
                    <div class="login-blocked-message d-none" id="blockedMessage">
                        <i class="fas fa-ban me-2"></i>
                        <span id="blockedText">Terlalu banyak percobaan gagal. Silakan coba lagi dalam </span>
                        <span class="login-countdown" id="countdown">30</span> detik.
                    </div>
                    
                    <div class="login-security-notice">
                        <i class="fas fa-info-circle me-2"></i>
                        Hubungi Administrator untuk mendapatkan kode akses
                    </div>
                    
                    <div class="login-developer-info">
                        <h5 class="mb-3">Developer Information</h5>
                        <div class="login-developer-contact">
                            <p><i class="fab fa-whatsapp me-2"></i> <a href="https://wa.me/6285647709114" target="_blank">+62 856-4770-9114</a></p>
                            <p><i class="fas fa-envelope me-2"></i> <a href="mailto:admin@anekamarket.my.id">admin@anekamarket.my.id</a></p>
                        </div>
                    </div>
                    
                    <div class="login-copyright">
                        &copy; 2025 Lentera karya Situbondo
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Login particle background -->
    <div id="login-particles"></div>
    
    <!-- Welcome Splash Screen -->
    <div class="welcome-splash" id="welcomeSplash">
        <button class="welcome-splash-close" id="closeSplash">
            <i class="fas fa-times"></i>
        </button>
        <div class="welcome-splash-content">
            <div class="welcome-splash-logo">
                <i class="fas fa-hands-helping"></i>
            </div>
            <h1 class="welcome-splash-title">SISTEM BANTUAN BARJAS</h1>
            <p class="welcome-splash-message">
                Aplikasi Sistem Bantuan BARJAS merupakan platform terpadu yang dirancang untuk mentransformasi pendataan, penyaluran, 
                dan monitoring program bantuan pemerintah. Aplikasi ini kami ciptakan untuk mendorong efisiensi, akurasi, 
                dan transparansi dalam pengelolaan bantuan, guna mempercepat penyerapan dan meningkatkan akuntabilitas.
            </p>
            <div class="welcome-splash-countdown" id="splashCountdown">
                Membuka aplikasi dalam <span id="countdownTimer">5</span> detik...
            </div>
        </div>
    </div>
    
    <!-- Main Application Content (initially hidden) -->
    <div class="app-content-unauthenticated" id="appContent">
        <!-- Mobile Menu Button -->
        <button class="mobile-menu-btn" id="mobileMenuBtn">
            <i class="fas fa-bars"></i>
        </button>
        
        <!-- Sidebar Overlay -->
        <div class="sidebar-overlay" id="sidebarOverlay"></div>
        
        <div class="app-container animate-fadeIn">
            <div class="app-header">
                <div class="app-logo">
                    <i class="fas fa-hands-helping"></i>
                </div>
                <h1 class="app-title">BARJAS</h1>
                <p class="app-subtitle">Sistem Bantuan Terpadu</p>
                <p class="app-subtitle" id="institutionName">Dinas Peternakan dan Perikanan Kabupaten Situbondo</p>
                <div class="watermark">v2.1.0</div>
            </div>
            
            <div class="row g-0">
                <!-- Sidebar Navigation -->
                <div class="col-md-3 col-lg-2 p-4 bg-light" id="sidebar">
                    <ul class="nav nav-pills flex-column mb-auto">
                        <li class="nav-item">
                            <a href="#" class="nav-link active" data-bs-target="dashboard">
                                <span class="feature-icon"><i class="fas fa-home"></i></span>
                                Dashboard
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="#" class="nav-link" data-bs-target="inputData">
                                <span class="feature-icon"><i class="fas fa-pen-to-square"></i></span>
                                Input Data Bantuan
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="#" class="nav-link" data-bs-target="dataTable">
                                <span class="feature-icon"><i class="fas fa-table"></i></span>
                                Tabel Data
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="#" class="nav-link" data-bs-target="statistik">
                                <span class="feature-icon"><i class="fas fa-chart-pie"></i></span>
                                Statistik
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="#" class="nav-link" data-bs-target="pengaturan">
                                <span class="feature-icon"><i class="fas fa-gear"></i></span>
                                Pengaturan
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="#" class="nav-link" id="logoutButton">
                                <span class="feature-icon"><i class="fas fa-right-from-bracket"></i></span>
                                Keluar
                            </a>
                        </li>
                    </ul>
                    
                    <div class="developer-info mt-5">
                        <h6 class="mb-3">Developer Information</h6>
                        <div class="developer-contact">
                            <p><i class="fab fa-whatsapp me-2"></i> <a href="https://wa.me/6285647709114" target="_blank">+62 856-4770-9114</a></p>
                            <p><i class="fas fa-envelope me-2"></i> <a href="mailto:admin@anekamarket.my.id">admin@anekamarket.my.id</a></p>
                        </div>
                    </div>
                </div>
                
                <!-- Main Content Area -->
                <div class="col-md-9 col-lg-10 p-5">
                    <!-- Dashboard Section -->
                    <div class="content-section" id="dashboard">
                        <h3 class="section-title">Dashboard</h3>
                        <div class="row">
                            <div class="col-md-4">
                                <div class="stats-box">
                                    <div class="stats-icon">
                                        <i class="fas fa-users fa-2x text-primary"></i>
                                    </div>
                                    <div class="stats-number" id="totalPenerima">0</div>
                                    <div class="stats-label">Total Penerima Bantuan</div>
                                </div>
                            </div>
                            <div class="col-md-4">
                                <div class="stats-box">
                                    <div class="stats-icon">
                                        <i class="fas fa-box-open fa-2x text-success"></i>
                                    </div>
                                    <div class="stats-number" id="totalBantuan">0</div>
                                    <div class="stats-label">Jenis Bantuan Tersedia</div>
                                </div>
                            </div>
                            <div class="col-md-4">
                                <div class="stats-box">
                                    <div class="stats-icon">
                                        <i class="fas fa-check-circle fa-2x text-warning"></i>
                                    </div>
                                    <div class="stats-number" id="totalTersalurkan">0</div>
                                    <div class="stats-label">Bantuan Tersalurkan</div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="row mt-4">
                            <div class="col-md-6">
                                <div class="card">
                                    <div class="card-header">
                                        <i class="fas fa-chart-bar me-2"></i> Statistik Bantuan per Kecamatan
                                    </div>
                                    <div class="card-body">
                                        <canvas id="kecamatanChart" height="250"></canvas>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="card">
                                    <div class="card-header">
                                        <i class="fas fa-chart-pie me-2"></i> Distribusi Jenis Bantuan
                                    </div>
                                    <div class="card-body">
                                        <canvas id="jenisBantuanChart" height="250"></canvas>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="row mt-4">
                            <div class="col-12">
                                <div class="card">
                                    <div class="card-header">
                                        <i class="fas fa-history me-2"></i> Input Data Terbaru
                                    </div>
                                    <div class="card-body">
                                        <div class="table-responsive">
                                            <table class="table table-hover data-table" id="recentDataTable">
                                                <thead>
                                                    <tr>
                                                        <th>No</th>
                                                        <th>Tanggal</th>
                                                        <th>Nama Penerima</th>
                                                        <th>Alamat</th>
                                                        <th>Jenis Bantuan</th>
                                                        <th>Status</th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <!-- Data akan diisi oleh JavaScript -->
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Input Data Section -->
                    <div class="content-section d-none" id="inputData">
                        <h3 class="section-title">Input Data Bantuan</h3>
                        
                        <div class="card">
                            <div class="card-header">
                                <i class="fas fa-pen-to-square me-2"></i> Formulir Input Data
                            </div>
                            <div class="card-body">
                                <form id="dataForm">
                                    <div class="row mb-3">
                                        <div class="col-md-6">
                                            <label class="form-label">
                                                <i class="fas fa-calendar"></i> Tanggal Pencatatan
                                            </label>
                                            <input type="text" class="form-control datepicker" id="tanggal" required>
                                            <div class="error-message" id="tanggalError">Tanggal harus diisi</div>
                                        </div>
                                        <div class="col-md-6">
                                            <label class="form-label">
                                                <i class="fas fa-tag"></i> Jenis Bantuan
                                            </label>
                                            <select class="form-select" id="jenisBantuan" required>
                                                <option value="">Pilih Jenis Bantuan</option>
                                                <option value="Bibit Lele">Bibit Lele</option>
                                                <option value="Bibit Nila">Bibit Nila</option>
                                                <option value="Pakan Ikan">Pakan Ikan</option>
                                                <option value="Vitamin Ikan">Vitamin Ikan</option>
                                                <option value="Jaring">Jaring</option>
                                                <option value="Bibit Sapi">Bibit Sapi</option>
                                                <option value="Pakan Ternak">Pakan Ternak</option>
                                                <option value="Obat Hewan">Obat Hewan</option>
                                            </select>
                                            <div class="error-message" id="jenisBantuanError">Jenis bantuan harus dipilih</div>
                                        </div>
                                    </div>
                                    
                                    <div class="row mb-3">
                                        <div class="col-md-6">
                                            <label class="form-label">
                                                <i class="fas fa-user"></i> Nama Penerima
                                            </label>
                                            <input type="text" class="form-control" id="namaPenerima" required>
                                            <div class="error-message" id="namaPenerimaError">Nama penerima harus diisi</div>
                                        </div>
                                        <div class="col-md-6">
                                            <label class="form-label">
                                                <i class="fas fa-phone"></i> Nomor WhatsApp
                                            </label>
                                            <input type="tel" class="form-control" id="whatsapp" placeholder="Contoh: 628123456789">
                                            <div class="error-message" id="whatsappError">Format nomor WhatsApp tidak valid</div>
                                        </div>
                                    </div>
                                    
                                    <div class="row mb-3">
                                        <div class="col-md-6">
                                            <label class="form-label">
                                                <i class="fas fa-id-card"></i> NIK
                                            </label>
                                            <input type="text" class="form-control" id="nik" maxlength="16">
                                            <div class="error-message" id="nikError">NIK harus 16 digit angka</div>
                                        </div>
                                        <div class="col-md-6">
                                            <label class="form-label">
                                                <i class="fas fa-venus-mars"></i> Jenis Kelamin
                                            </label>
                                            <select class="form-select" id="jenisKelamin">
                                                <option value="Laki-laki">Laki-laki</option>
                                                <option value="Perempuan">Perempuan</option>
                                            </select>
                                        </div>
                                    </div>
                                    
                                    <div class="row mb-3">
                                        <div class="col-md-6">
                                            <label class="form-label">
                                                <i class="fas fa-map-marker-alt"></i> Kecamatan
                                            </label>
                                            <select class="form-select" id="kecamatan" required>
                                                <option value="">Pilih Kecamatan</option>
                                                <option value="Arjasa">Arjasa</option>
                                                <option value="Asembagus">Asembagus</option>
                                                <option value="Banyuglugur">Banyuglugur</option>
                                                <option value="Banyuputih">Banyuputih</option>
                                                <option value="Besuki">Besuki</option>
                                                <option value="Bungatan">Bungatan</option>
                                                <option value="Jangkar">Jangkar</option>
                                                <option value="Jatibanteng">Jatibanteng</option>
                                                <option value="Kapongan">Kapongan</option>
                                                <option value="Kendit">Kendit</option>
                                                <option value="Mangaran">Mangaran</option>
                                                <option value="Mlandingan">Mlandingan</option>
                                                <option value="Panarukan">Panarukan</option>
                                                <option value="Panji">Panji</option>
                                                <option value="Situbondo">Situbondo</option>
                                                <option value="Suboh">Suboh</option>
                                                <option value="Sumbermalang">Sumbermalang</option>
                                            </select>
                                            <div class="error-message" id="kecamatanError">Kecamatan harus dipilih</div>
                                        </div>
                                        <div class="col-md-6">
                                            <label class="form-label">
                                                <i class="fas fa-map-marked-alt"></i> Desa/Kelurahan
                                            </label>
                                            <input type="text" class="form-control" id="desa" required>
                                            <div class="error-message" id="desaError">Desa/kelurahan harus diisi</div>
                                        </div>
                                    </div>
                                    
                                    <div class="row mb-3">
                                        <div class="col-12">
                                            <label class="form-label">
                                                <i class="fas fa-map"></i> Alamat Lengkap
                                            </label>
                                            <textarea class="form-control" id="alamat" rows="2" required></textarea>
                                            <div class="error-message" id="alamatError">Alamat lengkap harus diisi</div>
                                        </div>
                                    </div>
                                    
                                    <div class="row mb-3">
                                        <div class="col-md-6">
                                            <label class="form-label">
                                                <i class="fas fa-box"></i> Jumlah Bantuan
                                            </label>
                                            <input type="number" class="form-control" id="jumlah" min="1" required>
                                            <div class="error-message" id="jumlahError">Jumlah bantuan harus diisi</div>
                                        </div>
                                        <div class="col-md-6">
                                            <label class="form-label">
                                                <i class="fas fa-ruler"></i> Satuan
                                            </label>
                                            <input type="text" class="form-control" id="satuan" required>
                                            <div class="error-message" id="satuanError">Satuan harus diisi</div>
                                        </div>
                                    </div>
                                    
                                    <div class="row mb-3">
                                        <div class="col-md-6">
                                            <label class="form-label">
                                                <i class="fas fa-link"></i> Link Google Drive (Foto/Dokumen)
                                            </label>
                                            <div class="input-group">
                                                <input type="text" class="form-control" id="driveLink" placeholder="Link Google Drive untuk foto/dokumen">
                                                <button class="btn btn-outline-secondary" type="button" id="clearDriveLink">
                                                    <i class="fas fa-times"></i>
                                                </button>
                                            </div>
                                            <div class="error-message" id="driveLinkError">Format link Google Drive tidak valid</div>
                                        </div>
                                        <div class="col-md-6">
                                            <label class="form-label">
                                                <i class="fas fa-check-circle"></i> Status Penyaluran
                                            </label>
                                            <select class="form-select" id="status">
                                                <option value="Sudah Disalurkan">Sudah Disalurkan</option>
                                                <option value="Belum Disalurkan">Belum Disalurkan</option>
                                                <option value="Tunda">Tunda</option>
                                            </select>
                                        </div>
                                    </div>
                                    
                                    <div class="row mb-3">
                                        <div class="col-12">
                                            <label class="form-label">
                                                <i class="fas fa-sticky-note"></i> Keterangan (Opsional)
                                            </label>
                                            <textarea class="form-control" id="keterangan" rows="2"></textarea>
                                        </div>
                                    </div>
                                    
                                    <div class="d-flex justify-content-between mt-4">
                                        <button type="reset" class="btn btn-secondary">
                                            <i class="fas fa-undo me-2"></i> Reset Form
                                        </button>
                                        <button type="submit" class="btn btn-primary">
                                            <i class="fas fa-save me-2"></i> Simpan Data
                                        </button>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Data Table Section -->
                    <div class="content-section d-none" id="dataTable">
                        <h3 class="section-title">Tabel Data Bantuan</h3>
                        
                        <div class="filter-section">
                            <div class="row">
                                <div class="col-md-3">
                                    <label class="form-label">Jenis Bantuan</label>
                                    <select class="form-select" id="filterJenis">
                                        <option value="">Semua Jenis</option>
                                        <option value="Bibit Lele">Bibit Lele</option>
                                        <option value="Bibit Nila">Bibit Nila</option>
                                        <option value="Pakan Ikan">Pakan Ikan</option>
                                        <option value="Vitamin Ikan">Vitamin Ikan</option>
                                        <option value="Jaring">Jaring</option>
                                        <option value="Bibit Sapi">Bibit Sapi</option>
                                        <option value="Pakan Ternak">Pakan Ternak</option>
                                        <option value="Obat Hewan">Obat Hewan</option>
                                    </select>
                                </div>
                                <div class="col-md-3">
                                    <label class="form-label">Kecamatan</label>
                                    <select class="form-select" id="filterKecamatan">
                                        <option value="">Semua Kecamatan</option>
                                        <option value="Arjasa">Arjasa</option>
                                        <option value="Asembagus">Asembagus</option>
                                        <option value="Banyuglugur">Banyuglugur</option>
                                        <option value="Banyuputih">Banyuputih</option>
                                        <option value="Besuki">Besuki</option>
                                        <option value="Bungatan">Bungatan</option>
                                        <option value="Jangkar">Jangkar</option>
                                        <option value="Jatibanteng">Jatibanteng</option>
                                        <option value="Kapongan">Kapongan</option>
                                        <option value="Kendit">Kendit</option>
                                        <option value="Mangaran">Mangaran</option>
                                        <option value="Mlandingan">Mlandingan</option>
                                        <option value="Panarukan">Panarukan</option>
                                        <option value="Panji">Panji</option>
                                        <option value="Situbondo">Situbondo</option>
                                        <option value="Suboh">Suboh</option>
                                        <option value="Sumbermalang">Sumbermalang</option>
                                    </select>
                                </div>
                                <div class="col-md-3">
                                    <label class="form-label">Status</label>
                                    <select class="form-select" id="filterStatus">
                                        <option value="">Semua Status</option>
                                        <option value="Sudah Disalurkan">Sudah Disalurkan</option>
                                        <option value="Belum Disalurkan">Belum Disalurkan</option>
                                        <option value="Tunda">Tunda</option>
                                    </select>
                                </div>
                                <div class="col-md-3">
                                    <label class="form-label">Tanggal</label>
                                    <input type="text" class="form-control datepicker" id="filterTanggal" placeholder="Pilih tanggal">
                                </div>
                            </div>
                            <div class="row mt-3">
                                <div class="col-12 d-flex justify-content-between">
                                    <div>
                                        <button class="btn btn-outline-primary" id="applyFilter">
                                            <i class="fas fa-filter me-2"></i> Terapkan Filter
                                        </button>
                                        <button class="btn btn-outline-secondary ms-2" id="resetFilter">
                                            <i class="fas fa-undo me-2"></i> Reset
                                        </button>
                                    </div>
                                    <div>
                                        <button class="btn btn-success" id="exportExcel">
                                            <i class="fas fa-file-excel me-2"></i> Excel
                                        </button>
                                        <button class="btn btn-danger ms-2" id="exportPDF">
                                            <i class="fas fa-file-pdf me-2"></i> PDF
                                        </button>
                                        <button class="btn btn-warning ms-2" id="printTable">
                                            <i class="fas fa-print me-2"></i> Cetak
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="table-responsive">
                            <table class="table table-hover data-table" id="mainDataTable">
                                <thead>
                                    <tr>
                                        <th>No</th>
                                        <th>Tanggal</th>
                                        <th>Nama Penerima</th>
                                        <th>WhatsApp</th>
                                        <th>Kecamatan</th>
                                        <th>Desa</th>
                                        <th>Jenis Bantuan</th>
                                        <th>Jumlah</th>
                                        <th>Status</th>
                                        <th>Link Drive</th>
                                        <th>Aksi</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <!-- Data akan diisi oleh JavaScript -->
                                </tbody>
                            </table>
                        </div>
                        
                        <div class="d-flex justify-content-between align-items-center mt-3">
                            <div class="fw-bold">Total Data: <span id="totalData">0</span></div>
                            <nav>
                                <ul class="pagination justify-content-end" id="pagination">
                                    <!-- Pagination akan diisi oleh JavaScript -->
                                </ul>
                            </nav>
                        </div>
                    </div>
                    
                    <!-- Statistik Section -->
                    <div class="content-section d-none" id="statistik">
                        <h3 class="section-title">Statistik Bantuan</h3>
                        
                        <div class="row">
                            <div class="col-md-6">
                                <div class="card">
                                    <div class="card-header">
                                        <i class="fas fa-chart-bar me-2"></i> Statistik per Kecamatan
                                    </div>
                                    <div class="card-body">
                                        <canvas id="statistikKecamatanChart" height="300"></canvas>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="card">
                                    <div class="card-header">
                                        <i class="fas fa-chart-pie me-2"></i> Distribusi per Jenis Bantuan
                                    </div>
                                    <div class="card-body">
                                        <canvas id="statistikJenisChart" height="300"></canvas>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="row mt-4">
                            <div class="col-md-6">
                                <div class="card">
                                    <div class="card-header">
                                        <i class="fas fa-chart-line me-2"></i> Trend Bulanan
                                    </div>
                                    <div class="card-body">
                                        <canvas id="trendBulananChart" height="250"></canvas>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="card">
                                    <div class="card-header">
                                        <i class="fas fa-chart-area me-2"></i> Status Penyaluran
                                    </div>
                                    <div class="card-body">
                                        <canvas id="statusPenyaluranChart" height="250"></canvas>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Pengaturan Section -->
                    <div class="content-section d-none" id="pengaturan">
                        <h3 class="section-title">Pengaturan Aplikasi</h3>
                        
                        <div class="row">
                            <div class="col-md-6">
                                <div class="card">
                                    <div class="card-header">
                                        <i class="fas fa-database me-2"></i> Kelola Data
                                    </div>
                                    <div class="card-body">
                                        <div class="d-grid gap-2">
                                            <button class="btn btn-outline-primary" id="backupData">
                                                <i class="fas fa-download me-2"></i> Backup Data
                                            </button>
                                            <button class="btn btn-outline-secondary" id="restoreData">
                                                <i class="fas fa-upload me-2"></i> Restore Data
                                            </button>
                                            <input type="file" id="restoreFile" class="d-none" accept=".json">
                                            <button class="btn btn-outline-danger" id="resetData">
                                                <i class="fas fa-trash me-2"></i> Hapus Semua Data
                                            </button>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="card mt-4">
                                    <div class="card-header">
                                        <i class="fas fa-key me-2"></i> Keamanan
                                    </div>
                                    <div class="card-body">
                                        <div class="mb-3">
                                            <label class="form-label">Kode Keamanan Saat Ini</label>
                                            <div class="input-group">
                                                <input type="password" class="form-control" id="currentSecurityCode" value="12345" disabled>
                                                <button class="btn btn-outline-secondary toggle-security-code" type="button">
                                                    <i class="fas fa-eye"></i>
                                                </button>
                                            </div>
                                        </div>
                                        <div class="mb-3">
                                            <label class="form-label">Kode Keamanan Baru</label>
                                            <input type="password" class="form-control" id="newSecurityCode" placeholder="Masukkan kode keamanan baru">
                                        </div>
                                        <div class="mb-3">
                                            <label class="form-label">Konfirmasi Kode Baru</label>
                                            <input type="password" class="form-control" id="confirmSecurityCode" placeholder="Konfirmasi kode keamanan baru">
                                        </div>
                                        <button class="btn btn-primary" id="updateSecurityCode">
                                            <i class="fas fa-save me-2"></i> Perbarui Kode Keamanan
                                        </button>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="col-md-6">
                                <div class="card">
                                    <div class="card-header">
                                        <i class="fas fa-info-circle me-2"></i> Informasi Aplikasi
                                    </div>
                                    <div class="card-body">
                                        <div class="mb-3">
                                            <label class="form-label">Nama Aplikasi</label>
                                            <input type="text" class="form-control" value="BARJAS - Sistem Bantuan Terpadu" disabled>
                                        </div>
                                        <div class="mb-3">
                                            <label class="form-label">Versi</label>
                                            <input type="text" class="form-control" value="2.1.0" disabled>
                                        </div>
                                        <div class="mb-3">
                                            <label class="form-label">Pengembang</label>
                                            <input type="text" class="form-control" value="Lentera karya Situbondo" disabled>
                                        </div>
                                        <div class="mb-3">
                                            <label class="form-label">Kontak Pengembang</label>
                                            <div class="input-group">
                                                <span class="input-group-text"><i class="fab fa-whatsapp"></i></span>
                                                <input type="text" class="form-control" value="+62 856-4770-9114" disabled>
                                            </div>
                                        </div>
                                        <div class="mb-3">
                                            <label class="form-label">Email</label>
                                            <div class="input-group">
                                                <span class="input-group-text"><i class="fas fa-envelope"></i></span>
                                                <input type="text" class="form-control" value="admin@anekamarket.my.id" disabled>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="card mt-4">
                                    <div class="card-header">
                                        <i class="fas fa-paint-brush me-2"></i> Tema Tampilan
                                    </div>
                                    <div class="card-body">
                                        <div class="mb-3">
                                            <label class="form-label">Pilih Tema</label>
                                            <select class="form-select" id="themeSelector">
                                                <option value="default">Default (Biru)</option>
                                                <option value="green">Hijau</option>
                                                <option value="purple">Ungu</option>
                                                <option value="dark">Gelap</option>
                                            </select>
                                        </div>
                                        <button class="btn btn-primary" id="applyTheme">
                                            <i class="fas fa-check me-2"></i> Terapkan Tema
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="copyright">
                &copy; 2025 BARJAS - Sistem Bantuan Terpadu. Hak Cipta Dilindungi.
            </div>
        </div>
        
        <!-- Floating Action Button -->
        <div class="floating-action-btn" id="scrollToTop">
            <i class="fas fa-arrow-up"></i>
        </div>
        
        <!-- Notification Toast -->
        <div class="toast notification-toast align-items-center text-white bg-success border-0" role="alert" aria-live="assertive" aria-atomic="true" id="successToast">
            <div class="d-flex">
                <div class="toast-body">
                    <i class="fas fa-check-circle me-2"></i>
                    <span id="toastMessage">Operasi berhasil dilakukan</span>
                </div>
                <button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast" aria-label="Close"></button>
            </div>
        </div>
        
        <div class="toast notification-toast align-items-center text-white bg-danger border-0" role="alert" aria-live="assertive" aria-atomic="true" id="errorToast">
            <div class="d-flex">
                <div class="toast-body">
                    <i class="fas fa-exclamation-circle me-2"></i>
                    <span id="errorToastMessage">Terjadi kesalahan</span>
                </div>
                <button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast" aria-label="Close"></button>
            </div>
        </div>
    </div>
    
    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/js/bootstrap-datepicker.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/particles.js@2.0.0/particles.min.js"></script>
    
    <script>
        // Inisialisasi variabel global
        let dataBantuan = [];
        let currentPage = 1;
        const itemsPerPage = 10;
        let loginAttempts = 0;
        const maxLoginAttempts = 3;
        let isBlocked = false;
        let blockTime = 30; // Waktu blokir dalam detik
        let countdownInterval;
        let splashCountdownInterval;
        
        // Konstanta untuk kode keamanan
        const DEFAULT_SECURITY_CODE = "12345";
        
        // Fungsi untuk inisialisasi aplikasi
        function initializeApp() {
            // Inisialisasi datepicker
            $('.datepicker').datepicker({
                format: 'dd-mm-yyyy',
                autoclose: true,
                todayHighlight: true,
                language: 'id'
            });
            
            // Set tanggal hari ini sebagai default
            const today = new Date();
            const formattedDate = `${String(today.getDate()).padStart(2, '0')}-${String(today.getMonth() + 1).padStart(2, '0')}-${today.getFullYear()}`;
            $('#tanggal').val(formattedDate);
            
            // Load data dari localStorage
            loadData();
            
            // Setup event listeners
            setupEventListeners();
            
            // Setup chart
            updateCharts();
            
            // Tampilkan modal login
            $('#loginModal').modal('show');
        }
        
        // Fungsi untuk memuat data dari localStorage
        function loadData() {
            const savedData = localStorage.getItem('barjasData');
            if (savedData) {
                dataBantuan = JSON.parse(savedData);
            } else {
                // Data default jika tidak ada data tersimpan
                dataBantuan = [];
            }
            
            // Load pengaturan
            const savedSettings = localStorage.getItem('barjasSettings');
            if (savedSettings) {
                const settings = JSON.parse(savedSettings);
                if (settings.securityCode) {
                    // Kode keamanan sudah disimpan
                }
            }
        }
        
        // Fungsi untuk menyimpan data ke localStorage
        function saveData() {
            localStorage.setItem('barjasData', JSON.stringify(dataBantuan));
        }
        
        // Fungsi untuk setup event listeners
        function setupEventListeners() {
            // Navigasi menu
            $('.nav-link').on('click', function(e) {
                e.preventDefault();
                const target = $(this).data('bs-target');
                
                // Update active nav link
                $('.nav-link').removeClass('active');
                $(this).addClass('active');
                
                // Show target section
                $('.content-section').addClass('d-none');
                $(`#${target}`).removeClass('d-none');
            });
            
            // Form submission
            $('#dataForm').on('submit', function(e) {
                e.preventDefault();
                if (validateForm()) {
                    saveFormData();
                }
            });
            
            // Toggle password visibility
            $('.toggle-password').on('click', function() {
                const input = $('#securityCode');
                const icon = $(this).find('i');
                
                if (input.attr('type') === 'password') {
                    input.attr('type', 'text');
                    icon.removeClass('fa-eye').addClass('fa-eye-slash');
                } else {
                    input.attr('type', 'password');
                    icon.removeClass('fa-eye-slash').addClass('fa-eye');
                }
            });
            
            // Login form submission
            $('#loginForm').on('submit', function(e) {
                e.preventDefault();
                attemptLogin();
            });
            
            // Filter buttons
            $('#applyFilter').on('click', applyFilters);
            $('#resetFilter').on('click', resetFilters);
            
            // Export buttons
            $('#exportExcel').on('click', exportToExcel);
            $('#exportPDF').on('click', exportToPDF);
            $('#printTable').on('click', printTable);
            
            // Scroll to top button
            $('#scrollToTop').on('click', function() {
                window.scrollTo({ top: 0, behavior: 'smooth' });
            });
            
            // Mobile menu button
            $('#mobileMenuBtn').on('click', function() {
                $('#sidebar').addClass('mobile-show');
                $('#sidebarOverlay').addClass('mobile-show');
            });
            
            // Sidebar overlay
            $('#sidebarOverlay').on('click', function() {
                $('#sidebar').removeClass('mobile-show');
                $(this).removeClass('mobile-show');
            });
            
            // Logout button
            $('#logoutButton').on('click', function(e) {
                e.preventDefault();
                logout();
            });
            
            // Clear drive link button
            $('#clearDriveLink').on('click', function() {
                $('#driveLink').val('');
            });
            
            // Toggle security code visibility
            $('.toggle-security-code').on('click', function() {
                const input = $('#currentSecurityCode');
                const icon = $(this).find('i');
                
                if (input.attr('type') === 'password') {
                    input.attr('type', 'text');
                    icon.removeClass('fa-eye').addClass('fa-eye-slash');
                } else {
                    input.attr('type', 'password');
                    icon.removeClass('fa-eye-slash').addClass('fa-eye');
                }
            });
            
            // Update security code
            $('#updateSecurityCode').on('click', updateSecurityCode);
            
            // Data management buttons
            $('#backupData').on('click', backupData);
            $('#restoreData').on('click', function() {
                $('#restoreFile').click();
            });
            $('#restoreFile').on('change', restoreData);
            $('#resetData').on('click', resetData);
            
            // Apply theme
            $('#applyTheme').on('click', applyTheme);
            
            // Close splash screen
            $('#closeSplash').on('click', hideSplashScreen);
        }
        
        // Fungsi untuk validasi form
        function validateForm() {
            let isValid = true;
            
            // Reset error states
            $('.error-message').hide();
            $('.form-control, .form-select').removeClass('input-error');
            
            // Validate each field
            if (!$('#tanggal').val()) {
                $('#tanggalError').show();
                $('#tanggal').addClass('input-error');
                isValid = false;
            }
            
            if (!$('#jenisBantuan').val()) {
                $('#jenisBantuanError').show();
                $('#jenisBantuan').addClass('input-error');
                isValid = false;
            }
            
            if (!$('#namaPenerima').val()) {
                $('#namaPenerimaError').show();
                $('#namaPenerima').addClass('input-error');
                isValid = false;
            }
            
            const whatsapp = $('#whatsapp').val();
            if (whatsapp && !/^(\+62|62|0)8[1-9][0-9]{6,9}$/.test(whatsapp)) {
                $('#whatsappError').show();
                $('#whatsapp').addClass('input-error');
                isValid = false;
            }
            
            const nik = $('#nik').val();
            if (nik && (nik.length !== 16 || isNaN(nik))) {
                $('#nikError').show();
                $('#nik').addClass('input-error');
                isValid = false;
            }
            
            if (!$('#kecamatan').val()) {
                $('#kecamatanError').show();
                $('#kecamatan').addClass('input-error');
                isValid = false;
            }
            
            if (!$('#desa').val()) {
                $('#desaError').show();
                $('#desa').addClass('input-error');
                isValid = false;
            }
            
            if (!$('#alamat').val()) {
                $('#alamatError').show();
                $('#alamat').addClass('input-error');
                isValid = false;
            }
            
            if (!$('#jumlah').val() || $('#jumlah').val() < 1) {
                $('#jumlahError').show();
                $('#jumlah').addClass('input-error');
                isValid = false;
            }
            
            if (!$('#satuan').val()) {
                $('#satuanError').show();
                $('#satuan').addClass('input-error');
                isValid = false;
            }
            
            const driveLink = $('#driveLink').val();
            if (driveLink && !isValidDriveLink(driveLink)) {
                $('#driveLinkError').show();
                $('#driveLink').addClass('input-error');
                isValid = false;
            }
            
            return isValid;
        }
        
        // Fungsi untuk memeriksa validitas link Google Drive
        function isValidDriveLink(link) {
            return link.includes('drive.google.com') || link.includes('docs.google.com');
        }
        
        // Fungsi untuk menyimpan data dari form
        function saveFormData() {
            const newData = {
                id: Date.now(), // ID unik berdasarkan timestamp
                tanggal: $('#tanggal').val(),
                jenisBantuan: $('#jenisBantuan').val(),
                namaPenerima: $('#namaPenerima').val(),
                whatsapp: $('#whatsapp').val(),
                nik: $('#nik').val(),
                jenisKelamin: $('#jenisKelamin').val(),
                kecamatan: $('#kecamatan').val(),
                desa: $('#desa').val(),
                alamat: $('#alamat').val(),
                jumlah: $('#jumlah').val(),
                satuan: $('#satuan').val(),
                driveLink: $('#driveLink').val(),
                status: $('#status').val(),
                keterangan: $('#keterangan').val()
            };
            
            dataBantuan.push(newData);
            saveData();
            
            // Reset form
            $('#dataForm')[0].reset();
            
            // Set tanggal ke hari ini
            const today = new Date();
            const formattedDate = `${String(today.getDate()).padStart(2, '0')}-${String(today.getMonth() + 1).padStart(2, '0')}-${today.getFullYear()}`;
            $('#tanggal').val(formattedDate);
            
            // Update UI
            updateCharts();
            showToast('Data berhasil disimpan!');
            
            // Jika di section tabel data, refresh tabel
            if (!$('#dataTable').hasClass('d-none')) {
                renderDataTable();
            }
        }
        
        // Fungsi untuk render data table
        function renderDataTable() {
            const tableBody = $('#mainDataTable tbody');
            tableBody.empty();
            
            // Apply filters
            let filteredData = [...dataBantuan];
            const jenisFilter = $('#filterJenis').val();
            const kecamatanFilter = $('#filterKecamatan').val();
            const statusFilter = $('#filterStatus').val();
            const tanggalFilter = $('#filterTanggal').val();
            
            if (jenisFilter) {
                filteredData = filteredData.filter(item => item.jenisBantuan === jenisFilter);
            }
            
            if (kecamatanFilter) {
                filteredData = filteredData.filter(item => item.kecamatan === kecamatanFilter);
            }
            
            if (statusFilter) {
                filteredData = filteredData.filter(item => item.status === statusFilter);
            }
            
            if (tanggalFilter) {
                filteredData = filteredData.filter(item => item.tanggal === tanggalFilter);
            }
            
            // Update total data count
            $('#totalData').text(filteredData.length);
            
            // Pagination
            const totalPages = Math.ceil(filteredData.length / itemsPerPage);
            renderPagination(totalPages);
            
            // Get data for current page
            const startIndex = (currentPage - 1) * itemsPerPage;
            const endIndex = Math.min(startIndex + itemsPerPage, filteredData.length);
            const currentData = filteredData.slice(startIndex, endIndex);
            
            // Render table rows
            currentData.forEach((item, index) => {
                const rowNumber = startIndex + index + 1;
                const row = `
                    <tr>
                        <td>${rowNumber}</td>
                        <td>${item.tanggal}</td>
                        <td>${item.namaPenerima}</td>
                        <td>
                            ${item.whatsapp ? 
                                `<a href="https://wa.me/${item.whatsapp}" target="_blank" class="whatsapp-number">${item.whatsapp}</a>` : 
                                '-'}
                        </td>
                        <td>${item.kecamatan}</td>
                        <td>${item.desa}</td>
                        <td>${item.jenisBantuan}</td>
                        <td>${item.jumlah} ${item.satuan}</td>
                        <td>
                            <span class="badge ${getStatusBadgeClass(item.status)}">${item.status}</span>
                        </td>
                        <td>
                            ${item.driveLink ? 
                                `<a href="${item.driveLink}" target="_blank" class="drive-link">Lihat Dokumen</a>` : 
                                '-'}
                        </td>
                        <td>
                            <div class="btn-group btn-group-sm">
                                <button class="btn btn-outline-primary view-data" data-id="${item.id}">
                                    <i class="fas fa-eye"></i>
                                </button>
                                <button class="btn btn-outline-warning edit-data" data-id="${item.id}">
                                    <i class="fas fa-edit"></i>
                                </button>
                                <button class="btn btn-outline-danger delete-data" data-id="${item.id}">
                                    <i class="fas fa-trash"></i>
                                </button>
                                <button class="btn btn-print-individual print-data" data-id="${item.id}">
                                    <i class="fas fa-print"></i>
                                </button>
                            </div>
                        </td>
                    </tr>
                `;
                tableBody.append(row);
            });
            
            // Add event listeners to action buttons
            $('.view-data').on('click', function() {
                const id = $(this).data('id');
                viewData(id);
            });
            
            $('.edit-data').on('click', function() {
                const id = $(this).data('id');
                editData(id);
            });
            
            $('.delete-data').on('click', function() {
                const id = $(this).data('id');
                deleteData(id);
            });
            
            $('.print-data').on('click', function() {
                const id = $(this).data('id');
                printIndividualData(id);
            });
        }
        
        // Fungsi untuk mendapatkan class badge berdasarkan status
        function getStatusBadgeClass(status) {
            switch(status) {
                case 'Sudah Disalurkan':
                    return 'bg-success';
                case 'Belum Disalurkan':
                    return 'bg-warning';
                case 'Tunda':
                    return 'bg-danger';
                default:
                    return 'bg-secondary';
            }
        }
        
        // Fungsi untuk render pagination
        function renderPagination(totalPages) {
            const pagination = $('#pagination');
            pagination.empty();
            
            if (totalPages <= 1) return;
            
            // Previous button
            const prevDisabled = currentPage === 1 ? 'disabled' : '';
            pagination.append(`
                <li class="page-item ${prevDisabled}">
                    <a class="page-link" href="#" data-page="${currentPage - 1}">Previous</a>
                </li>
            `);
            
            // Page numbers
            const maxVisiblePages = 5;
            let startPage = Math.max(1, currentPage - Math.floor(maxVisiblePages / 2));
            let endPage = Math.min(totalPages, startPage + maxVisiblePages - 1);
            
            if (endPage - startPage + 1 < maxVisiblePages) {
                startPage = Math.max(1, endPage - maxVisiblePages + 1);
            }
            
            for (let i = startPage; i <= endPage; i++) {
                const active = i === currentPage ? 'active' : '';
                pagination.append(`
                    <li class="page-item ${active}">
                        <a class="page-link" href="#" data-page="${i}">${i}</a>
                    </li>
                `);
            }
            
            // Next button
            const nextDisabled = currentPage === totalPages ? 'disabled' : '';
            pagination.append(`
                <li class="page-item ${nextDisabled}">
                    <a class="page-link" href="#" data-page="${currentPage + 1}">Next</a>
                </li>
            `);
            
            // Add event listeners to pagination links
            $('.page-link').on('click', function(e) {
                e.preventDefault();
                const page = $(this).data('page');
                if (page) {
                    currentPage = page;
                    renderDataTable();
                }
            });
        }
        
        // Fungsi untuk menerapkan filter
        function applyFilters() {
            currentPage = 1;
            renderDataTable();
        }
        
        // Fungsi untuk mereset filter
        function resetFilters() {
            $('#filterJenis').val('');
            $('#filterKecamatan').val('');
            $('#filterStatus').val('');
            $('#filterTanggal').val('');
            currentPage = 1;
            renderDataTable();
        }
        
        // Fungsi untuk melihat data
        function viewData(id) {
            const data = dataBantuan.find(item => item.id === id);
            if (data) {
                // Tampilkan modal dengan detail data
                alert(`Detail Data:\nNama: ${data.namaPenerima}\nJenis Bantuan: ${data.jenisBantuan}\nStatus: ${data.status}`);
            }
        }
        
        // Fungsi untuk mengedit data
        function editData(id) {
            const data = dataBantuan.find(item => item.id === id);
            if (data) {
                // Isi form dengan data yang ada
                $('#tanggal').val(data.tanggal);
                $('#jenisBantuan').val(data.jenisBantuan);
                $('#namaPenerima').val(data.namaPenerima);
                $('#whatsapp').val(data.whatsapp);
                $('#nik').val(data.nik);
                $('#jenisKelamin').val(data.jenisKelamin);
                $('#kecamatan').val(data.kecamatan);
                $('#desa').val(data.desa);
                $('#alamat').val(data.alamat);
                $('#jumlah').val(data.jumlah);
                $('#satuan').val(data.satuan);
                $('#driveLink').val(data.driveLink);
                $('#status').val(data.status);
                $('#keterangan').val(data.keterangan);
                
                // Hapus data lama
                dataBantuan = dataBantuan.filter(item => item.id !== id);
                saveData();
                
                // Scroll ke form input data
                $('.nav-link[data-bs-target="inputData"]').click();
                window.scrollTo(0, 0);
                
                showToast('Data siap untuk diedit. Silakan perbarui dan simpan kembali.');
            }
        }
        
        // Fungsi untuk menghapus data
        function deleteData(id) {
            if (confirm('Apakah Anda yakin ingin menghapus data ini?')) {
                dataBantuan = dataBantuan.filter(item => item.id !== id);
                saveData();
                renderDataTable();
                updateCharts();
                showToast('Data berhasil dihapus.');
            }
        }
        
        // Fungsi untuk mencetak data individual
        function printIndividualData(id) {
            const data = dataBantuan.find(item => item.id === id);
            if (data) {
                // Buat konten untuk dicetak
                const printContent = `
                    <div style="padding: 20px; font-family: Arial, sans-serif;">
                        <h2 style="text-align: center; margin-bottom: 20px;">DATA BANTUAN BARJAS</h2>
                        <table style="width: 100%; border-collapse: collapse;">
                            <tr>
                                <td style="padding: 8px; border: 1px solid #ddd; width: 30%;"><strong>Tanggal</strong></td>
                                <td style="padding: 8px; border: 1px solid #ddd;">${data.tanggal}</td>
                            </tr>
                            <tr>
                                <td style="padding: 8px; border: 1px solid #ddd;"><strong>Nama Penerima</strong></td>
                                <td style="padding: 8px; border: 1px solid #ddd;">${data.namaPenerima}</td>
                            </tr>
                            <tr>
                                <td style="padding: 8px; border: 1px solid #ddd;"><strong>NIK</strong></td>
                                <td style="padding: 8px; border: 1px solid #ddd;">${data.nik || '-'}</td>
                            </tr>
                            <tr>
                                <td style="padding: 8px; border: 1px solid #ddd;"><strong>Jenis Kelamin</strong></td>
                                <td style="padding: 8px; border: 1px solid #ddd;">${data.jenisKelamin}</td>
                            </tr>
                            <tr>
                                <td style="padding: 8px; border: 1px solid #ddd;"><strong>Alamat</strong></td>
                                <td style="padding: 8px; border: 1px solid #ddd;">${data.alamat}, ${data.desa}, ${data.kecamatan}</td>
                            </tr>
                            <tr>
                                <td style="padding: 8px; border: 1px solid #ddd;"><strong>WhatsApp</strong></td>
                                <td style="padding: 8px; border: 1px solid #ddd;">${data.whatsapp || '-'}</td>
                            </tr>
                            <tr>
                                <td style="padding: 8px; border: 1px solid #ddd;"><strong>Jenis Bantuan</strong></td>
                                <td style="padding: 8px; border: 1px solid #ddd;">${data.jenisBantuan}</td>
                            </tr>
                            <tr>
                                <td style="padding: 8px; border: 1px solid #ddd;"><strong>Jumlah</strong></td>
                                <td style="padding: 8px; border: 1px solid #ddd;">${data.jumlah} ${data.satuan}</td>
                            </tr>
                            <tr>
                                <td style="padding: 8px; border: 1px solid #ddd;"><strong>Status</strong></td>
                                <td style="padding: 8px; border: 1px solid #ddd;">${data.status}</td>
                            </tr>
                            <tr>
                                <td style="padding: 8px; border: 1px solid #ddd;"><strong>Keterangan</strong></td>
                                <td style="padding: 8px; border: 1px solid #ddd;">${data.keterangan || '-'}</td>
                            </tr>
                            ${data.driveLink ? `
                            <tr>
                                <td style="padding: 8px; border: 1px solid #ddd;"><strong>Link Dokumen</strong></td>
                                <td style="padding: 8px; border: 1px solid #ddd;">${data.driveLink}</td>
                            </tr>
                            ` : ''}
                        </table>
                        <div style="margin-top: 30px; text-align: right;">
                            <div style="margin-top: 50px;">
                                <div>Situbondo, ${new Date().toLocaleDateString('id-ID', { day: 'numeric', month: 'long', year: 'numeric' })}</div>
                                <div style="margin-top: 60px;">Petugas</div>
                            </div>
                        </div>
                    </div>
                `;
                
                // Buka jendela cetak
                const printWindow = window.open('', '_blank');
                printWindow.document.write(`
                    <html>
                        <head>
                            <title>Cetak Data Bantuan - ${data.namaPenerima}</title>
                            <style>
                                body { font-family: Arial, sans-serif; }
                                table { width: 100%; border-collapse: collapse; margin-bottom: 20px; }
                                th, td { padding: 8px; border: 1px solid #ddd; }
                                th { background-color: #f2f2f2; text-align: left; }
                            </style>
                        </head>
                        <body onload="window.print(); window.close();">
                            ${printContent}
                        </body>
                    </html>
                `);
                printWindow.document.close();
            }
        }
        
        // Fungsi untuk mengekspor data ke Excel
        function exportToExcel() {
            // Menggunakan library xlsx
            const filteredData = getFilteredDataForExport();
            
            // Format data untuk Excel
            const excelData = filteredData.map(item => ({
                'Tanggal': item.tanggal,
                'Nama Penerima': item.namaPenerima,
                'NIK': item.nik || '',
                'Jenis Kelamin': item.jenisKelamin,
                'WhatsApp': item.whatsapp || '',
                'Kecamatan': item.kecamatan,
                'Desa': item.desa,
                'Alamat': item.alamat,
                'Jenis Bantuan': item.jenisBantuan,
                'Jumlah': item.jumlah,
                'Satuan': item.satuan,
                'Status': item.status,
                'Keterangan': item.keterangan || '',
                'Link Dokumen': item.driveLink || ''
            }));
            
            // Buat worksheet
            const worksheet = XLSX.utils.json_to_sheet(excelData);
            
            // Buat workbook
            const workbook = XLSX.utils.book_new();
            XLSX.utils.book_append_sheet(workbook, worksheet, 'Data Bantuan');
            
            // Generate file Excel
            const today = new Date();
            const dateStr = `${today.getDate()}${today.getMonth() + 1}${today.getFullYear()}`;
            const fileName = `Data_Bantuan_BARJAS_${dateStr}.xlsx`;
            
            XLSX.writeFile(workbook, fileName);
            showToast('Data berhasil diekspor ke Excel.');
        }
        
        // Fungsi untuk mengekspor data ke PDF
        function exportToPDF() {
            // Menggunakan library jsPDF dan jsPDF AutoTable
            const { jsPDF } = window.jspdf;
            const doc = new jsPDF();
            
            // Judul
            doc.setFontSize(16);
            doc.text('DATA BANTUAN BARJAS', 105, 15, { align: 'center' });
            doc.setFontSize(10);
            doc.text(`Dicetak pada: ${new Date().toLocaleDateString('id-ID')}`, 105, 22, { align: 'center' });
            
            // Data untuk tabel
            const filteredData = getFilteredDataForExport();
            const tableData = filteredData.map(item => [
                item.tanggal,
                item.namaPenerima,
                item.kecamatan,
                item.desa,
                item.jenisBantuan,
                `${item.jumlah} ${item.satuan}`,
                item.status
            ]);
            
            // Buat tabel
            doc.autoTable({
                head: [['Tanggal', 'Nama', 'Kecamatan', 'Desa', 'Jenis Bantuan', 'Jumlah', 'Status']],
                body: tableData,
                startY: 30,
                theme: 'grid',
                styles: { fontSize: 8 },
                headStyles: { fillColor: [13, 71, 161] }
            });
            
            // Simpan PDF
            const today = new Date();
            const dateStr = `${today.getDate()}${today.getMonth() + 1}${today.getFullYear()}`;
            const fileName = `Data_Bantuan_BARJAS_${dateStr}.pdf`;
            
            doc.save(fileName);
            showToast('Data berhasil diekspor ke PDF.');
        }
        
        // Fungsi untuk mendapatkan data yang difilter untuk ekspor
        function getFilteredDataForExport() {
            let filteredData = [...dataBantuan];
            const jenisFilter = $('#filterJenis').val();
            const kecamatanFilter = $('#filterKecamatan').val();
            const statusFilter = $('#filterStatus').val();
            const tanggalFilter = $('#filterTanggal').val();
            
            if (jenisFilter) {
                filteredData = filteredData.filter(item => item.jenisBantuan === jenisFilter);
            }
            
            if (kecamatanFilter) {
                filteredData = filteredData.filter(item => item.kecamatan === kecamatanFilter);
            }
            
            if (statusFilter) {
                filteredData = filteredData.filter(item => item.status === statusFilter);
            }
            
            if (tanggalFilter) {
                filteredData = filteredData.filter(item => item.tanggal === tanggalFilter);
            }
            
            return filteredData;
        }
        
        // Fungsi untuk mencetak tabel
        function printTable() {
            // Sembunyikan elemen yang tidak perlu dicetak
            $('.filter-section, .btn-group, .pagination, .floating-action-btn, .mobile-menu-btn').hide();
            
            // Tambahkan judul untuk cetakan
            const printHeader = `
                <div class="print-header" style="display: none;">
                    <h2 class="print-title">DATA BANTUAN BARJAS</h2>
                    <p class="print-subtitle">Dinas Peternakan dan Perikanan Kabupaten Situbondo</p>
                    <p class="print-date">Dicetak pada: ${new Date().toLocaleDateString('id-ID')}</p>
                </div>
            `;
            $('#dataTable').prepend(printHeader);
            $('.print-header').show();
            
            // Sembunyikan kolom aksi dan link Google Drive saat mencetak
            $('#mainDataTable th:last-child, #mainDataTable td:last-child').hide();
            $('#mainDataTable th:nth-last-child(2), #mainDataTable td:nth-last-child(2)').hide();
            
            // Cetak halaman
            window.print();
            
            // Kembalikan ke keadaan semula
            setTimeout(() => {
                $('.filter-section, .btn-group, .pagination, .floating-action-btn, .mobile-menu-btn').show();
                $('.print-header').remove();
                $('#mainDataTable th:last-child, #mainDataTable td:last-child').show();
                $('#mainDataTable th:nth-last-child(2), #mainDataTable td:nth-last-child(2)').show();
            }, 500);
        }
        
        // Fungsi untuk memperbarui chart
        function updateCharts() {
            updateDashboardStats();
            updateKecamatanChart();
            updateJenisBantuanChart();
            updateRecentDataTable();
            
            // Jika di section statistik, update chart statistik juga
            if (!$('#statistik').hasClass('d-none')) {
                updateStatistikCharts();
            }
        }
        
        // Fungsi untuk memperbarui statistik dashboard
        function updateDashboardStats() {
            $('#totalPenerima').text(dataBantuan.length);
            
            // Hitung jumlah jenis bantuan unik
            const uniqueJenis = new Set(dataBantuan.map(item => item.jenisBantuan));
            $('#totalBantuan').text(uniqueJenis.size);
            
            // Hitung bantuan yang sudah disalurkan
            const tersalurkan = dataBantuan.filter(item => item.status === 'Sudah Disalurkan').length;
            $('#totalTersalurkan').text(tersalurkan);
        }
        
        // Fungsi untuk memperbarui chart kecamatan
        function updateKecamatanChart() {
            const ctx = document.getElementById('kecamatanChart').getContext('2d');
            
            // Hitung data per kecamatan
            const kecamatanCount = {};
            dataBantuan.forEach(item => {
                if (kecamatanCount[item.kecamatan]) {
                    kecamatanCount[item.kecamatan]++;
                } else {
                    kecamatanCount[item.kecamatan] = 1;
                }
            });
            
            // Urutkan berdasarkan jumlah (descending)
            const sortedKecamatan = Object.entries(kecamatanCount)
                .sort((a, b) => b[1] - a[1])
                .slice(0, 10); // Ambil 10 teratas
            
            const labels = sortedKecamatan.map(item => item[0]);
            const data = sortedKecamatan.map(item => item[1]);
            
            // Hancurkan chart sebelumnya jika ada
            if (window.kecamatanChartInstance) {
                window.kecamatanChartInstance.destroy();
            }
            
            // Buat chart baru
            window.kecamatanChartInstance = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: labels,
                    datasets: [{
                        label: 'Jumlah Penerima',
                        data: data,
                        backgroundColor: 'rgba(13, 71, 161, 0.7)',
                        borderColor: 'rgba(13, 71, 161, 1)',
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    plugins: {
                        legend: {
                            display: false
                        },
                        title: {
                            display: true,
                            text: '10 Kecamatan Terbanyak'
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            ticks: {
                                stepSize: 1
                            }
                        }
                    }
                }
            });
        }
        
        // Fungsi untuk memperbarui chart jenis bantuan
        function updateJenisBantuanChart() {
            const ctx = document.getElementById('jenisBantuanChart').getContext('2d');
            
            // Hitung data per jenis bantuan
            const jenisCount = {};
            dataBantuan.forEach(item => {
                if (jenisCount[item.jenisBantuan]) {
                    jenisCount[item.jenisBantuan]++;
                } else {
                    jenisCount[item.jenisBantuan] = 1;
                }
            });
            
            const labels = Object.keys(jenisCount);
            const data = Object.values(jenisCount);
            
            // Warna untuk chart
            const backgroundColors = [
                'rgba(13, 71, 161, 0.7)',
                'rgba(0, 105, 92, 0.7)',
                'rgba(255, 143, 0, 0.7)',
                'rgba(106, 27, 154, 0.7)',
                'rgba(229, 57, 53, 0.7)',
                'rgba(2, 119, 189, 0.7)',
                'rgba(0, 121, 107, 0.7)',
                'rgba(194, 24, 91, 0.7)'
            ];
            
            // Hancurkan chart sebelumnya jika ada
            if (window.jenisBantuanChartInstance) {
                window.jenisBantuanChartInstance.destroy();
            }
            
            // Buat chart baru
            window.jenisBantuanChartInstance = new Chart(ctx, {
                type: 'pie',
                data: {
                    labels: labels,
                    datasets: [{
                        data: data,
                        backgroundColor: backgroundColors,
                        borderColor: 'white',
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    plugins: {
                        legend: {
                            position: 'right'
                        }
                    }
                }
            });
        }
        
        // Fungsi untuk memperbarui tabel data terbaru
        function updateRecentDataTable() {
            const tableBody = $('#recentDataTable tbody');
            tableBody.empty();
            
            // Ambil 5 data terbaru
            const recentData = [...dataBantuan]
                .sort((a, b) => new Date(b.tanggal.split('-').reverse().join('-')) - new Date(a.tanggal.split('-').reverse().join('-')))
                .slice(0, 5);
            
            recentData.forEach((item, index) => {
                const row = `
                    <tr>
                        <td>${index + 1}</td>
                        <td>${item.tanggal}</td>
                        <td>${item.namaPenerima}</td>
                        <td>${item.alamat}, ${item.desa}</td>
                        <td>${item.jenisBantuan}</td>
                        <td>
                            <span class="badge ${getStatusBadgeClass(item.status)}">${item.status}</span>
                        </td>
                    </tr>
                `;
                tableBody.append(row);
            });
        }
        
        // Fungsi untuk memperbarui chart statistik
        function updateStatistikCharts() {
            updateStatistikKecamatanChart();
            updateStatistikJenisChart();
            updateTrendBulananChart();
            updateStatusPenyaluranChart();
        }
        
        // Fungsi untuk memperbarui chart statistik kecamatan
        function updateStatistikKecamatanChart() {
            const ctx = document.getElementById('statistikKecamatanChart').getContext('2d');
            
            // Hitung data per kecamatan
            const kecamatanCount = {};
            dataBantuan.forEach(item => {
                if (kecamatanCount[item.kecamatan]) {
                    kecamatanCount[item.kecamatan]++;
                } else {
                    kecamatanCount[item.kecamatan] = 1;
                }
            });
            
            // Urutkan berdasarkan nama kecamatan
            const sortedKecamatan = Object.entries(kecamatanCount)
                .sort((a, b) => a[0].localeCompare(b[0]));
            
            const labels = sortedKecamatan.map(item => item[0]);
            const data = sortedKecamatan.map(item => item[1]);
            
            // Hancurkan chart sebelumnya jika ada
            if (window.statistikKecamatanChartInstance) {
                window.statistikKecamatanChartInstance.destroy();
            }
            
            // Buat chart baru
            window.statistikKecamatanChartInstance = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: labels,
                    datasets: [{
                        label: 'Jumlah Penerima',
                        data: data,
                        backgroundColor: 'rgba(13, 71, 161, 0.7)',
                        borderColor: 'rgba(13, 71, 161, 1)',
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    plugins: {
                        legend: {
                            display: false
                        },
                        title: {
                            display: true,
                            text: 'Distribusi Penerima per Kecamatan'
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            ticks: {
                                stepSize: 1
                            }
                        }
                    }
                }
            });
        }
        
        // Fungsi untuk memperbarui chart statistik jenis bantuan
        function updateStatistikJenisChart() {
            const ctx = document.getElementById('statistikJenisChart').getContext('2d');
            
            // Hitung data per jenis bantuan
            const jenisCount = {};
            dataBantuan.forEach(item => {
                if (jenisCount[item.jenisBantuan]) {
                    jenisCount[item.jenisBantuan]++;
                } else {
                    jenisCount[item.jenisBantuan] = 1;
                }
            });
            
            const labels = Object.keys(jenisCount);
            const data = Object.values(jenisCount);
            
            // Warna untuk chart
            const backgroundColors = [
                'rgba(13, 71, 161, 0.7)',
                'rgba(0, 105, 92, 0.7)',
                'rgba(255, 143, 0, 0.7)',
                'rgba(106, 27, 154, 0.7)',
                'rgba(229, 57, 53, 0.7)',
                'rgba(2, 119, 189, 0.7)',
                'rgba(0, 121, 107, 0.7)',
                'rgba(194, 24, 91, 0.7)'
            ];
            
            // Hancurkan chart sebelumnya jika ada
            if (window.statistikJenisChartInstance) {
                window.statistikJenisChartInstance.destroy();
            }
            
            // Buat chart baru
            window.statistikJenisChartInstance = new Chart(ctx, {
                type: 'doughnut',
                data: {
                    labels: labels,
                    datasets: [{
                        data: data,
                        backgroundColor: backgroundColors,
                        borderColor: 'white',
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    plugins: {
                        legend: {
                            position: 'right'
                        },
                        title: {
                            display: true,
                            text: 'Distribusi per Jenis Bantuan'
                        }
                    }
                }
            });
        }
        
        // Fungsi untuk memperbarui chart trend bulanan
        function updateTrendBulananChart() {
            const ctx = document.getElementById('trendBulananChart').getContext('2d');
            
            // Hitung data per bulan (6 bulan terakhir)
            const monthNames = ['Jan', 'Feb', 'Mar', 'Apr', 'Mei', 'Jun', 'Jul', 'Agu', 'Sep', 'Okt', 'Nov', 'Des'];
            const currentDate = new Date();
            const months = [];
            const monthData = {};
            
            // Siapkan data untuk 6 bulan terakhir
            for (let i = 5; i >= 0; i--) {
                const date = new Date(currentDate.getFullYear(), currentDate.getMonth() - i, 1);
                const monthYear = `${monthNames[date.getMonth()]} ${date.getFullYear()}`;
                months.push(monthYear);
                monthData[monthYear] = 0;
            }
            
            // Hitung data per bulan
            dataBantuan.forEach(item => {
                const [day, month, year] = item.tanggal.split('-');
                const date = new Date(`${year}-${month}-${day}`);
                const monthYear = `${monthNames[date.getMonth()]} ${date.getFullYear()}`;
                
                if (monthData.hasOwnProperty(monthYear)) {
                    monthData[monthYear]++;
                }
            });
            
            const data = months.map(month => monthData[month]);
            
            // Hancurkan chart sebelumnya jika ada
            if (window.trendBulananChartInstance) {
                window.trendBulananChartInstance.destroy();
            }
            
            // Buat chart baru
            window.trendBulananChartInstance = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: months,
                    datasets: [{
                        label: 'Jumlah Bantuan',
                        data: data,
                        backgroundColor: 'rgba(13, 71, 161, 0.2)',
                        borderColor: 'rgba(13, 71, 161, 1)',
                        borderWidth: 2,
                        tension: 0.3,
                        fill: true
                    }]
                },
                options: {
                    responsive: true,
                    plugins: {
                        title: {
                            display: true,
                            text: 'Trend Penyaluran 6 Bulan Terakhir'
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            ticks: {
                                stepSize: 1
                            }
                        }
                    }
                }
            });
        }
        
        // Fungsi untuk memperbarui chart status penyaluran
        function updateStatusPenyaluranChart() {
            const ctx = document.getElementById('statusPenyaluranChart').getContext('2d');
            
            // Hitung data per status
            const statusCount = {
                'Sudah Disalurkan': 0,
                'Belum Disalurkan': 0,
                'Tunda': 0
            };
            
            dataBantuan.forEach(item => {
                if (statusCount.hasOwnProperty(item.status)) {
                    statusCount[item.status]++;
                }
            });
            
            const labels = Object.keys(statusCount);
            const data = Object.values(statusCount);
            
            // Warna untuk chart
            const backgroundColors = [
                'rgba(0, 105, 92, 0.7)',  // Hijau untuk Sudah Disalurkan
                'rgba(255, 143, 0, 0.7)', // Orange untuk Belum Disalurkan
                'rgba(229, 57, 53, 0.7)'  // Merah untuk Tunda
            ];
            
            // Hancurkan chart sebelumnya jika ada
            if (window.statusPenyaluranChartInstance) {
                window.statusPenyaluranChartInstance.destroy();
            }
            
            // Buat chart baru
            window.statusPenyaluranChartInstance = new Chart(ctx, {
                type: 'polarArea',
                data: {
                    labels: labels,
                    datasets: [{
                        data: data,
                        backgroundColor: backgroundColors,
                        borderColor: 'white',
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    plugins: {
                        legend: {
                            position: 'right'
                        },
                        title: {
                            display: true,
                            text: 'Status Penyaluran Bantuan'
                        }
                    }
                }
            });
        }
        
        // Fungsi untuk menampilkan toast notifikasi
        function showToast(message, isError = false) {
            const toastId = isError ? 'errorToast' : 'successToast';
            const toastMessageId = isError ? 'errorToastMessage' : 'toastMessage';
            
            $(`#${toastMessageId}`).text(message);
            const toast = new bootstrap.Toast(document.getElementById(toastId));
            toast.show();
        }
        
        // Fungsi untuk mencoba login
        function attemptLogin() {
            if (isBlocked) {
                return;
            }
            
            const enteredCode = $('#securityCode').val();
            const savedSettings = localStorage.getItem('barjasSettings');
            let securityCode = DEFAULT_SECURITY_CODE;
            
            if (savedSettings) {
                const settings = JSON.parse(savedSettings);
                if (settings.securityCode) {
                    securityCode = settings.securityCode;
                }
            }
            
            if (enteredCode === securityCode) {
                // Login berhasil
                loginAttempts = 0;
                $('#attemptsCount').text('');
                $('#loginModal').modal('hide');
                $('#appContent').removeClass('app-content-unauthenticated');
                showToast('Login berhasil. Selamat datang!');
                
                // Tampilkan splash screen
                showSplashScreen();
            } else {
                // Login gagal
                loginAttempts++;
                
                if (loginAttempts >= maxLoginAttempts) {
                    // Blokir login sementara
                    isBlocked = true;
                    $('#loginButton').prop('disabled', true);
                    $('#blockedMessage').removeClass('d-none');
                    startBlockCountdown();
                } else {
                    // Tampilkan pesan error
                    $('#attemptsCount').text(`Percobaan login gagal: ${loginAttempts}/${maxLoginAttempts}`);
                    $('#loginForm').addClass('login-shake');
                    setTimeout(() => {
                        $('#loginForm').removeClass('login-shake');
                    }, 600);
                }
            }
        }
        
        // Fungsi untuk memulai countdown blokir
        function startBlockCountdown() {
            let seconds = blockTime;
            $('#countdown').text(seconds);
            
            clearInterval(countdownInterval);
            countdownInterval = setInterval(() => {
                seconds--;
                $('#countdown').text(seconds);
                
                if (seconds <= 0) {
                    clearInterval(countdownInterval);
                    isBlocked = false;
                    $('#loginButton').prop('disabled', false);
                    $('#blockedMessage').addClass('d-none');
                    loginAttempts = 0;
                    $('#attemptsCount').text('');
                }
            }, 1000);
        }
        
        // Fungsi untuk logout
        function logout() {
            if (confirm('Apakah Anda yakin ingin keluar dari aplikasi?')) {
                $('#appContent').addClass('app-content-unauthenticated');
                $('#loginModal').modal('show');
                showToast('Anda telah logout dari aplikasi.');
            }
        }
        
        // Fungsi untuk memperbarui kode keamanan
        function updateSecurityCode() {
            const newCode = $('#newSecurityCode').val();
            const confirmCode = $('#confirmSecurityCode').val();
            
            if (!newCode) {
                showToast('Kode keamanan baru harus diisi.', true);
                return;
            }
            
            if (newCode !== confirmCode) {
                showToast('Konfirmasi kode keamanan tidak sesuai.', true);
                return;
            }
            
            // Simpan pengaturan
            const settings = {
                securityCode: newCode
            };
            localStorage.setItem('barjasSettings', JSON.stringify(settings));
            
            // Reset form
            $('#newSecurityCode').val('');
            $('#confirmSecurityCode').val('');
            
            showToast('Kode keamanan berhasil diperbarui.');
        }
        
        // Fungsi untuk backup data
        function backupData() {
            const dataStr = JSON.stringify(dataBantuan);
            const dataUri = 'data:application/json;charset=utf-8,'+ encodeURIComponent(dataStr);
            
            const exportFileDefaultName = `backup_barjas_${new Date().toISOString().slice(0,10)}.json`;
            
            const linkElement = document.createElement('a');
            linkElement.setAttribute('href', dataUri);
            linkElement.setAttribute('download', exportFileDefaultName);
            linkElement.click();
            
            showToast('Backup data berhasil dilakukan.');
        }
        
        // Fungsi untuk restore data
        function restoreData(e) {
            const file = e.target.files[0];
            if (!file) return;
            
            const reader = new FileReader();
            reader.onload = function(e) {
                try {
                    const restoredData = JSON.parse(e.target.result);
                    if (Array.isArray(restoredData)) {
                        if (confirm('Restore data akan menggantikan semua data saat ini. Lanjutkan?')) {
                            dataBantuan = restoredData;
                            saveData();
                            renderDataTable();
                            updateCharts();
                            showToast('Data berhasil direstore.');
                        }
                    } else {
                        showToast('File backup tidak valid.', true);
                    }
                } catch (error) {
                    showToast('Terjadi kesalahan saat memproses file backup.', true);
                }
            };
            reader.readAsText(file);
            
            // Reset input file
            $('#restoreFile').val('');
        }
        
        // Fungsi untuk reset data
        function resetData() {
            if (confirm('PERINGATAN: Tindakan ini akan menghapus semua data. Anda yakin?')) {
                if (confirm('Data yang dihapus tidak dapat dikembalikan. Tekan OK untuk melanjutkan.')) {
                    dataBantuan = [];
                    saveData();
                    renderDataTable();
                    updateCharts();
                    showToast('Semua data telah dihapus.');
                }
            }
        }
        
        // Fungsi untuk menerapkan tema
        function applyTheme() {
            const selectedTheme = $('#themeSelector').val();
            // Implementasi perubahan tema bisa ditambahkan di sini
            showToast(`Tema ${selectedTheme} diterapkan.`);
        }
        
        // Fungsi untuk menampilkan splash screen
        function showSplashScreen() {
            $('#welcomeSplash').show();
            
            let countdown = 5;
            $('#countdownTimer').text(countdown);
            
            // Hapus interval sebelumnya jika ada
            if (splashCountdownInterval) {
                clearInterval(splashCountdownInterval);
            }
            
            // Mulai countdown
            splashCountdownInterval = setInterval(() => {
                countdown--;
                $('#countdownTimer').text(countdown);
                
                if (countdown <= 0) {
                    hideSplashScreen();
                }
            }, 1000);
        }
        
        // Fungsi untuk menyembunyikan splash screen - PERBAIKAN DILAKUKAN DI SINI
        function hideSplashScreen() {
            // Hentikan countdown
            if (splashCountdownInterval) {
                clearInterval(splashCountdownInterval);
                splashCountdownInterval = null;
            }
            
            // Sembunyikan splash screen dengan efek fade
            $('#welcomeSplash').fadeOut(500, function() {
                $(this).hide();
            });
        }
        
        // Inisialisasi aplikasi saat dokumen siap
        $(document).ready(function() {
            initializeApp();
            
            // Setup particles.js untuk background login
            particlesJS('login-particles', {
                particles: {
                    number: { value: 80, density: { enable: true, value_area: 800 } },
                    color: { value: "#ffffff" },
                    shape: { type: "circle" },
                    opacity: { value: 0.5, random: true },
                    size: { value: 3, random: true },
                    line_linked: {
                        enable: true,
                        distance: 150,
                        color: "#ffffff",
                        opacity: 0.4,
                        width: 1
                    },
                    move: {
                        enable: true,
                        speed: 2,
                        direction: "none",
                        random: true,
                        straight: false,
                        out_mode: "out",
                        bounce: false
                    }
                },
                interactivity: {
                    detect_on: "canvas",
                    events: {
                        onhover: { enable: true, mode: "grab" },
                        onclick: { enable: true, mode: "push" },
                        resize: true
                    },
                    modes: {
                        grab: { distance: 140, line_linked: { opacity: 1 } },
                        push: { particles_nb: 4 }
                    }
                },
                retina_detect: true
            });
            
            // Tampilkan particles background setelah modal login ditampilkan
            $('#loginModal').on('shown.bs.modal', function() {
                $('#login-particles').show();
            });
            
            $('#loginModal').on('hidden.bs.modal', function() {
                $('#login-particles').hide();
            });
        });
    </script>
</body>
</html>
